#!/bin/sh
#
# Nukes a branch locally and on the origin remote.
#
# $1 - Branch name.
#
# Examples
#
#   git nuke add-git-nuke

read -p "This will nuke the branch $1. Are you sure? (y/n) " -n 1
echo "\n"
if [[ $REPLY =~ ^[Yy]$ ]]; then
  git checkout master

  if [ `git branch --list $1 `]; then
    git branch -D $1
  fi

  if [ `git ls-remote --exit-code . origin/$1 `]; then
    git push origin :$1
  fi
fi
